<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Role Playing Game</title>

  <!-- Bootstrap File -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery.js"></script>

  <!-- MY CSS Style Sheet -->
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Lato|Rubik+Mono+One" rel="stylesheet">



</head>
<body>

   <!-- Overall Bootstrap Grid -->
<div class="container">

    <!-- Jumbotron with Title -->
  <div class="jumbotron">
    <h1 class="text-center"><strong>The Battle is On!</strong></h1>
<!--     <h4 class="text-center"></h4> -->
    <hr>
    
    <div class="text-center">
    <p>Ready to wage a battle against an opponent of your choosing?</p>
    <p>First, select your fighter. Then from the list of remaining characters, select the fight you'd like to fight against.</p>

    </div>
  </div>
<!-- The scoring area -->
  <div class="row">
    <div class="col-lg-12">
      <h3 class="panel-title">Your Scores vs. the Villian's Score</h3>
    </div>
          
    <div class="panel-body">
      <div class="text-center">
          <h5 class = "scoreHero">Your score here</h5>
          <h5 class = "scoreVillian">Enemy's score here</h5>
      </div>
        <div class="text-center">
          <button class="btn btn-default btn-lg fight-button"><span class="glyphicon  glyphicon-fire"></span> Fight</button>
        </div>
    </div>
    <div class="row">

      <!-- Left Panel -->
      <div class="col-lg-6">

        <!-- Controls (Superpower Grow/Shrink)-->
        <div class="panel panel-default">
          <div class="panel-heading the-fighter">
            <h3 class="panel-title">Your Hero</h3>
          </div>
          <div class="panel-body">
            <div class="text-center">
              <div class="sel-fighter">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6">

        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">The Villian</h3>
          </div>
          <div class="panel-body the-villian">
            <div class="text-center">
              <div class="sel-opp">              
              </div>
            </div>
          </div>
        </div>
      </div>


  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Available Characters</h3>
    </div>
    <div class="panel-body">
      <div class = "row colorme">
        <div class = "col-lg-3">
          <div class="text-center fighter fighter-1">
            <p> The Wizard </p>
            <img src="assets/images/wizard.png" alt="" class="img" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
              
        <div class = "col-lg-3">
          <div class="text-center fighter fighter-2">
            <p> Mr. Death </p>
            <img src="assets/images/death.png" alt="" class="img" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
      
        <div class = "col-lg-3">
          <div class="text-center fighter fighter-3">
            <p> The Warlock </p>
            <img src="assets/images/warlock.png" alt="" class="img" id="three" id="three" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
      
        <div class = "col-lg-3">
          <div class="text-center fighter fighter-4">
            <p> The Buddha </p>
            <img src="assets/images/buddha.png" alt="" class="img" id="four" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
    </div>
  </div>
</div>

<!--   <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Remaining Characters</h3>
    </div>
    <div class="panel-body">
      <div class = "row">
        <div class = "col-lg-3">
          <div class="text-center">
            <img src="assets/images/wizard.png" alt="" class="img" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
              
        <div class = "col-lg-3">
          <div class="text-center">
            <img src="assets/images/death.png" alt="" class="img" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
      
        <div class = "col-lg-3">
          <div class="text-center">
            <img src="assets/images/warlock.png" alt="" class="img" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
      
        <div class = "col-lg-3">
          <div class="text-center">
            <img src="assets/images/buddha.png" alt="" class="img" style="height: 200px">
            <p> Power Level Placeholder </p>
          </div>
        </div>
    </div>
  </div> -->
</div>

<script>
$(document).ready(function(){
// Set the variables - make them global at this time
var healthPoints = 0;
var attackPower = 0;
var countAttackPower = 0;



// First user selects their fighter - the good guy - image is moved to 'Your Character' area

    //Create a variable where when the user clicks on the image, the img source - this -  is fed into it.
    //Variable is then used to move the image to the right location.
var isFighterChosen = 1;
var selFighter;
var selStyle;
var imgContent;

var indexHero;
var indexVillian;

var arrayCharacters = ["fighter-1", "fighter-2", "fighter-3", "fighter-4"];
var arrayCharactersName = ["The Wizard", "Mr. Death", "The Warlock", "The Buddha"];
var arrayHealthPoints = [120, 140, 160, 170];
var arrayAttackPower = [1, 2, 3, 4];

  $(".fighter").on("click", function() {
   
    if (isFighterChosen === 1) {  
      selFighter = $('img', $(this)).attr('src');
      // selStyle  =  $('img', $(this)).attr('style');
      selDiv = $('img', $(this)).attr('id'); 

      parent = $(this).closest(".fighter").attr("class").match(/\b(fighter-\d+)\b/)[1]; 
      // Get the index of the array

      indexHero = arrayCharacters.indexOf(parent);
      console.log(indexHero);

      charName = arrayCharactersName[indexHero];
      charValue = arrayHealthPoints[indexHero];

      // imgContent = ("<div><img src=' " + selFighter + " ' style= '" + selStyle + "'></div>");
      imgContent = ("<div><p> " + charName + "</p><img src=' " + selFighter + "' id='borders-good'><p> Power Level: " + charValue + "</p> </div>");

      $(".colorme").css("background", "#A80C0C");

      $(".sel-fighter").append(imgContent);
      $("." + parent).hide();
      isFighterChosen++;

    }

    else if (isFighterChosen === 2) {
      selFighter = $('img', $(this)).attr('src');
      // selStyle  =  $('img', $(this)).attr('style');
      selDiv = $('img', $(this)).attr('id'); 

      parent = $(this).closest(".fighter").attr("class").match(/\b(fighter-\d+)\b/)[1]; 

      indexVillian = arrayCharacters.indexOf(parent);

      charName = arrayCharactersName[indexVillian];
      charValue = arrayHealthPoints[indexVillian];
      
      // imgContent = ("<div><img src=' " + selFighter + " ' style= '" + selStyle + "'></div>");
      imgContent = ("<div><p> " + charName + "</p><img src=' " + selFighter + "' id='borders-bad'><p> Power Level: " + charValue + "</p> </div>");

      $(".sel-opp").append(imgContent);
      $("." + parent).hide();
      
      $(".the-villian").css("background", "#A80C0C");

      isFighterChosen++;
    }
    else {
      alert("Yo. Start the fight already!");
    }
  })

  $(".fight-button").on("click", function(){
    heroHP = arrayHealthPoints[indexHero];
    heroAttackPower = arrayAttackPower[indexHero];

    villianHP = arrayHealthPoints[indexVillian];
    villianAttackPower = arrayAttackPower[indexVillian];

    console.log(heroHP);
    console.log(heroAttackPower);
    console.log(villianHP);
    console.log(villianAttackPower);

  if (isFighterChosen === 3) {
      if ((heroHP > 0) && (villianHP > 0)) {
        
        heroAttackPower = (heroAttackPower * 6);
        villianHP = (villianHP - heroAttackPower);

        heroHP = (villianAttackPower - heroHP);
        alert("The Hero HP is " + heroHP + " and the villianHP is " + villianHP);
        
        console.log(villianHP);
        console.log(heroHP);

        //Insert code to be transferred to HTML 
      }
      else if ((heroHP <= 0) && (villianHP > 0)) {
        alert("You lost!");
        //Restart game - put images back in their places and reset variables
      }
      else {

        //Theortically this should be where the villianHP is below zero so 
        // gets to choose a new Villian
        alert("Insert new logic");
      }    
    }
    else {
      alert("Oh I don't think so! Chose your heros & villians first!");
    }
  })









})



 </script>

</body>
</html>

